# Chat App - Environment Configuration
# This file shows all available configuration options with their defaults.
# For development, you don't need to create a .env file - sensible defaults are provided.
# For production, copy this file to .env and update the values.

# ============================================================================
# PostgreSQL Configuration
# ============================================================================
# Database credentials (defaults are fine for development)
POSTGRES_USER=chatapp_user
POSTGRES_PASSWORD=chatapp_dev_password
POSTGRES_DB=chat_app_dev

# PostgreSQL port (change if 5432 is already in use)
POSTGRES_PORT=5432

# ============================================================================
# Application Ports
# ============================================================================
# Backend API port
BACKEND_PORT=3001

# Frontend port (mapped from container port 80)
FRONTEND_PORT=5173

# ============================================================================
# Build Configuration
# ============================================================================
# Build target: 'development' or 'production'
# development = faster builds, source maps, dev dependencies
# production = optimized builds, no source maps, production dependencies
BUILD_TARGET=development

# Node environment: 'development' or 'production'
NODE_ENV=development

# ============================================================================
# Backend Configuration
# ============================================================================
# JWT secret for token signing
# IMPORTANT: Change this in production! Generate with: openssl rand -base64 32
JWT_SECRET=dev-secret-key-change-in-production

# JWT token expiration time (e.g., '7d', '24h', '30m')
JWT_EXPIRES_IN=7d

# Bcrypt hashing rounds (10 for dev, 12+ for production)
BCRYPT_ROUNDS=10

# CORS allowed origin (frontend URL)
# Development: http://localhost:5173
# Production: https://yourdomain.com
CORS_ORIGIN=http://localhost:5173

# ============================================================================
# Frontend Build Arguments
# ============================================================================
# Backend API base URL (used by frontend to make API calls)
# Development: http://localhost:3001
# Production: https://yourdomain.com or https://api.yourdomain.com
VITE_API_BASE_URL=http://localhost:3001

# WebSocket URL (used by frontend for real-time messaging)
# Development: ws://localhost:3001
# Production: wss://yourdomain.com or wss://api.yourdomain.com
VITE_WS_URL=ws://localhost:3001

# ============================================================================
# Production Deployment Notes
# ============================================================================
# For production deployment:
# 1. Set BUILD_TARGET=production and NODE_ENV=production
# 2. Generate a strong JWT_SECRET: openssl rand -base64 32
# 3. Use a secure POSTGRES_PASSWORD: openssl rand -base64 32
# 4. Update CORS_ORIGIN to your production domain (e.g., https://yourdomain.com)
# 5. Update VITE_API_BASE_URL and VITE_WS_URL to your production URLs
# 6. Consider using a managed PostgreSQL service instead of Docker PostgreSQL
# 7. Set up SSL/TLS with a reverse proxy (Nginx, Caddy, Traefik)
#
# Example production values:
# BUILD_TARGET=production
# NODE_ENV=production
# POSTGRES_PASSWORD=<generated-secure-password>
# JWT_SECRET=<generated-secure-secret>
# BCRYPT_ROUNDS=12
# CORS_ORIGIN=https://chat.yourdomain.com
# VITE_API_BASE_URL=https://chat.yourdomain.com
# VITE_WS_URL=wss://chat.yourdomain.com
